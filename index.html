<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Book Shop</title>
</head>

<body onload="onInit()">

    <section class="top-square">
        <fieldset>
            <legend>Filter & Search</legend>
            
            <form class="search">
                <input oninput="onBookFilter()" type="search" placeholder="Search...">
                <button onclick="onClear()">Clear</button>
            </form>

            <div class="filter-and-sort">
                <div class="filter-by">
                    <select class="book-list" onchange="onSetFilterBy({bookTitle: this.value})">
                        <option value="">Select book</option>
                    </select>
                    
                    <label>
                        <span>Rating:</span>
                        <input type="range" min="1" max="10" value="3" 
                               onchange="this.title=this.value;onSetFilterBy({rating: +this.value})" />
                    </label>
                </div>
                
                <div class="sort-by">
                    <select onchange="onSetSortBy()">
                        <option value="">Select Sorting</option>
                        <option value="price">By Price</option>
                        <option value="title">By Title</option>
                        <option value="rating">By Rating</option>
                    </select>
                    <label>
                        <span>Descending</span>
                        <input class="sort-desc" type="checkbox" oninput="onSetSortBy()" />
                    </label>
                </div>
            </div>

        </fieldset> 

    </section>

    <dialog class="book-edit-modal">
        <form onsubmit="onSaveBook()" method="dialog">
            <h2>Add a Book</h2>
            <input id="" class="book-title" type="text" placeholder="Enter book title">
            <input class="book-price" type="number" placeholder="Enter book price">
            <label>
                <span>Rating:</span>
                <input type="number" min="1" max="10" value="10"  >
            </label>
            <img src="img/book-cover.png" alt="">
            <div>
                <button type="button" onclick="onCloseBookEdit()">Cancel</button>
                <button>Save</button>
            </div>
        </form>
    </dialog>

    <section>
        <div class="actions">
            <button class="add" onclick="onAddBook()">Add Book</button>
            <div class="pages">
                <button title="Previous Page" onclick="onPreviousPage()">Previous Page</button>
            <button title="Next Page" onclick="onNextPage()">Next Page</button>
            </div>    
        </div>
        <section class="books-container"></section>
    </section>

    <table>
        <thead>
            <tr class="header">
                <td class="col1" onclick="onSortByTitle()">Title <span></span></td>
                <td class="col2" onclick="onSortByPrice()">Price <span></span></td>
                <td class="col3" onclick="onSortByRate()">Rate <span></span></td>
                <td class="col4">Actions</td></tr>
        </thead>
        <tbody></tbody>
    </table>

   
    
    <dialog class="book-details">
        <form method="dialog">
            <button class="close-btn">x</button>
            <h2>Book: <span></span></h2>
            <pre></pre>
            <span class="img"></span>
            <button id="" class="update-details" onclick="onUpdateBook(this.id)">Edit book details</button>
        </form>
    </dialog>

  
    <h3 class="pop-up hidden"></h3>

    <footer>
        <span>Expensive books: <span class="expensive"></span></span>
        <span>Average price: <span class="average"></span></span>
        <span>Cheap books:<span class="cheap"></span></span>
    </footer>
   

    <script src="js/book.util.service.js"></script>
    <script src="js/book.storage.service.js"></script>
    <script src="js/book.service.js"></script>
    <script src="js/book.controller.js"></script>

</body>
</html>